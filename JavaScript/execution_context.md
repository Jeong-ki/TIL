## 실행 컨텍스트(execution context)  
자바스크립트의 동작 원리를 담고 있는 핵심 개념

---

실행 컨텍스트란?
- 실행 컨텍스트는 소스코드를 실행하는 데 필요한 환경을 제공하고 코드의 실행 결과를 실제로 관리하는 영역이다.
- 실행 컨텍스트는 식별자(변수, 함수, 클래스 등의 이름)을 등록하고 관리하는 스코프와 코드 실행 순서 관리를 구현한 내부 메커니즘으로, 모든 코드는 실행 컨텍스트를 통해 실행되고 관리된다.
<br><br>

### 소스코드의 타입
---
ECMAScript 사양은 소스코드를 4가지 타입의 소스코드로 구분한다.
(소스코드의 타입에 따라 실행 컨텍스트를 생성하는 과정과 관리 내용이 다르다.)

- 전역 코드 → 전역 실행 컨텍스트
- 함수 코드 → 함수 실행 컨텍스트
- eval 코드 → eval 실행 컨텍스트
- 모듈 코드 → 모듈 실행 컨텍스트

>자바스크립트 엔진은 소스코드를 "소스코드의 평가"와 "소스코드의 실행" 과정으로 나누어 처리한다.
<br><br>
### 실행 컨텍스트 스택
---
실행 컨텍스트는 스택 자료구조로 관리된다.

- 전역 코드 평가 → 전역 실행 컨텍스트 생성 후 스택에 푸시  
- 함수 코드 평가 → 함수 실행 컨텍스트 생성 후 스택에 푸시
(최상위부터 실행 후 팝)

![image](https://user-images.githubusercontent.com/68384429/145252428-7f2e73d5-930d-4e07-aff2-1f6c3d34e82f.png)

실행 컨텍스트 스택은 코드의 실행 순서를 관리한다.  
실행 컨텍스트 최상위에 존재하는 실행 컨텍스트를 실행 중인 실행 컨텍스트라 부른다.

렉시컬 환경

- 식별자와 식별자에 바인딩된 값, 상위 스코프에 대한 참조를 기록하는 자료구조로 실행컨텍스트를 구성하는 컴포넌트다.
- 스코프를 구분하여 식별자를 등록하고 관리하는 저장소 역할을 하는 렉시컬 스코프의 실체다.

렉시컬 환경은 두 개의 컴포넌트로 구성된다

- 환경 레코드 - 식별자 등록, 등록된 식별자에 바인딩 된 값을 관리하는 저장소
- 외부 렉시컬 환경에 대한 참조 - 상위 스코프를 가리킴  
<br>

참조)
모던 자바스크립트 딥다이브